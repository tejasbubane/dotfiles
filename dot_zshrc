ZPLUG_HOME=$HOME/.zplug

if [ ! -f "$ZPLUG_HOME/init.zsh" ] ; then
  echo 'Error: `zplug` is not installed.'
  return
fi

source "$ZPLUG_HOME/init.zsh"

# All zplug plugins take following format
# zplug "<github_username>/<project_name>", optionally takes file to use

# ZSH Essentials
zplug "zsh-users/zsh-completions"
zplug "zsh-users/zsh-history-substring-search"
zplug "zsh-users/zsh-autosuggestions", use:"zsh-autosuggestions.zsh"
zplug "zsh-users/zsh-syntax-highlighting", use:"zsh-syntax-highlighting.zsh"

# Pure theme
zplug "mafredri/zsh-async"
zplug "sindresorhus/pure", use:pure.zsh, as:theme

# Misc
zplug "djui/alias-tips"

# Install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

# Then, source plugins and add commands to $PATH
zplug load

# My own aliases
source "$HOME/.aliases"

# OCaml Installation
# To correctly configure OPAM for subsequent use
. /Users/tejas/.opam/opam-init/init.zsh > /dev/null 2> /dev/null || true

# Load all modified paths
source "$HOME/.paths"
